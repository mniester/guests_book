<!DOCTYPE html>

<html>
  <head>
    <title>{{ title }}</title>
  </head>

  <body>

    <p><a href = "{{ url_for('index') }}"> {{ back }}</a></p>
    
    <div>{{ message }}</div>
    
    <form action="" method="post" novalidate>
      {{ set_quantity.hidden_tag()}}
      <div>
        {{ set_quantity.nr.label }}<br>
        {{ set_quantity.nr }}<br>
        {% for err0 in set_quantity.nr.errors %}<br>
        <span style="color: red;"> {{ err0 }} </span>
        {% endfor %}
        <p>{{ set_quantity.confirm() }}</p>
      </div>
    </form>
    
    <div>
      {% for message in messages %}
      <p>{{ message }}</p>
      {% endfor %}
    </div>
    <div> {% for entry in entries: %} 
      <p><a href="{{ url_for('user', name = entry.user) }}">{{ entry.user }}</a> o {{ entry.date }} napisał(a): </p>
      <p><a href="/entry/{{ entry.id }}">{{ entry.get_text(cut) }}</a></p>
      {% endfor %}
    </div>


    <form action="" method="post" novalidate>
      {{ entry.hidden_tag() }}
      <div>
        {{ entry.nick.label }}<br>
        {{ entry.nick }}<br>
        {% for err1 in entry.nick.errors %}<br>
        <span style="color: red;"> {{ err1 }} </span>
        {% endfor %}
      </div>
      <div>
        {{ entry.text.label }}<br>
        {{ entry.text }}
        {% for err2 in entry.text.errors %}
        <span style="color: red;"> {{ err2 }} </span>
        {% endfor %}
      </div>
      <p>{{ entry.write() }}</p>
    </form>

    <form action="" method="post" novalidate>
      {{ query.hidden_tag() }}
      <div>
        {{ query.entry.label }}<br>
        {{ query.entry(size=100) }}
        {% for err3 in query.entry.errors %}
        <span style="color: red;"> {{ err3 }} </span>
        {% endfor %}
        <p>{{ query.ask() }}</p>
      </div>
    </form>

    <form action="/user" method="get">
      <label for="finduser">Wyszukaj użytkownika: </label><br>
      <input type="text" id="finduser" name="name"><br>
      <input type="submit" value="Szukaj">
      
    </form>
  
  </body>
</html>
