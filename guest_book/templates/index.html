<!DOCTYPE html>

<html>
  <head>
    <title>{{ title }}</title>
    <meta charset="UTF-8">
    <meta lang ='pl'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel= "stylesheet" type= "text/css" 
    href= "{{ url_for('static',filename='/style.css') }}">
    <link rel="shortcut icon" type="image/jpg" 
    href="{{ url_for('static',filename='/accessories-character-map.svg') }}">
  </head>

  <body>

    <p><a href = "{{ url_for('index') }}"> {{ back }}</a></p>
    
    <h1>{{ message }}</h1>
    
    <form action="" method="get">
      <label for="entries">Liczba wpisów (od 1 do 20)</label>
      <input type="number" id="entries" name="quantity" size = "2"
        min="1" max="20" value= {{ quantity }} placeholder = {{ quantity }}>
      <span></span>
      <input type="submit" value="Ustaw">
    </form>
    
    <div>
      {% for message in messages %}
      <p>{{ message }}</p>
      {% endfor %}
    </div>
    <dl> {% for entry in entries: %} 
      <dt><a href="{{ url_for('user', name = entry.user, quantity = quantity) }}">{{ entry.user }}</a> o {{ entry.date }} napisał(a): </dt>
      <dd><p></p><a href="/entry/{{ entry.id }}" target="_blank">{{ entry.get_text(cut) }}</p></a></dd>
      {% endfor %}
    </dl>


    <form action="" method="post" novalidate>
      {{ entry.hidden_tag() }}
      <div>
        <p>{{ entry.nick.label }}</p>
        <p>{{ entry.nick(placeholder=entry.nick_placeholder) }}</p>
        {% for err1 in entry.nick.errors %}
        <span style="color: red;"> {{ err1 }} </span>
        {% endfor %}
      </div>
      <div>
        <p>{{ entry.text.label }}</p>
        <p>{{ entry.text(placeholder=entry.entry_placeholder, rows = 10, cols = 50) }}</p>
        {% for err2 in entry.text.errors %}
        <span style="color: red;"> {{ err2 }} </span>
        {% endfor %}
      </div>
      <p>{{ entry.write() }}</p>
    </form>

    <form action="" method="post" novalidate>
      {{ query.hidden_tag() }}
      <div>
        <p>{{ query.entry.label }}</p>
        <p>{{ query.entry(placeholder=entry.entry_placeholder, rows = 10, cols = 50) }}</p>
        {% for err3 in query.entry.errors %}
        <span style="color: red;"> {{ err3 }} </span>
        {% endfor %}
        <p>{{ query.ask() }}</p>
      </div>
    </form>

    <form action="/user/" method="get">
      <label for="finduser">Wyszukaj użytkownika: </label>
      <input type="text" id="finduser" name="name" placeholder = "{{ entry.nick_placeholder }}">
      <input type="submit" value="Szukaj">
      
    </form>
  
  </body>
</html>
